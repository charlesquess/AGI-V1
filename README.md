# AGI-V1

# AGI——V1 系统开发流程

## 一、第一阶段：

- 实现一个简单可运行的文本对话生活助理，具备记忆存储、记忆调取、意图识别和基本语言生成能力。

## 初始化项目结构

```text
v1_assistant/
├── main.py               # 主入口
├── config.py             # 配置项
├── memory/
│   ├── em_store.py       # 事实记忆体
│   ├── sm_store.py       # 语义记忆体(摘要)
│   ├── ms_store.py       # 目标追踪
│   ├── memory_filter.py  # 记忆筛选器模块
│   ├── vector_indxer.py  # 向量索引器
│   ├── vector_store.py   # 向量存储器
│   └── abstractor.py     # 记忆抽象类
├── intent/
│   └── intent_detector.py # 意图识别模块
├── wm/
│   └── working_memory.py # 工作记忆结构
├── dialogue/
│   └── language_dispatch.py # 语言调度器
├── llm/
│   └── llm_client.py     # LLM接口调用(OpenAI or 本地)
├── utils/
│   └── tools.py          # 工具函数(打标签/时间戳等)
└── data/
    ├── em.db             # SQLite储存EM/SM/MS
    └── config.json       # 用户偏好配置文件
```

### 开发步骤

#### 第 1 步：构建对话入口（main.py）

- 用命令行接收用户输入
- 抛给 intent_detector.py 做意图判断

#### 第 2 步：实现意图识别器

- 分类：记录 / 查询 / 目标更新 / 建议请求
- 可用关键字 + 基本规则起步，后续再训练意图模型

#### 第 3 步：记忆模块

- SQLite 初步建模 EM（记录时间、内容、情绪标签）
- SM 从 EM 摘要生成：如频繁出现“麦当劳”→“早餐偏好为麦当劳”
- MS 用于存储当前目标，如“控制饮食”、“减肥”

#### 第 4 步：记忆筛选器

- 根据意图类型 + 当前对话内容检索对应 EM / SM / MS 片段
- 控制内容多少，填充至 WM

#### 第 5 步：语言调度器 + LLM 调用

- 构造一个 prompt 模板
- 用小型 LLM（本地模型）生成语言

#### 第 6 步：输出响应 + 可选学习更新

- 若属于“记录”意图，将内容写入 EM
- 若符合摘要触发条件，则生成 SM 条目建议

### 最小可运行系统目标

| 模块       | 功能                                   |
|------------|----------------------------------------|
| EM         | 储存每日事件（如早餐吃了啥）           |
| SM         | 概括习惯（“通常早餐吃麦当劳”）         |
| MS         | 储存目标（如“本月饮食预算 1000 元”）   |
| 记忆筛选器 | 拉取相关历史记忆给模型使用             |
| 意图识别器 | 判断“记录 / 查询 / 闲聊”              |
| 语言调度器 | 构造 prompt 传给 LLM，生成回复        |
